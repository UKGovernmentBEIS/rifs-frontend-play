@import models._

@(app: ApplicationForm, overview:ApplicationOverview)

@main(s"Overview") {
    <div>
        <h1>Application Overview</h1>
        <h2>Complete all application sections before submitting to RIFS.</h2>
        <a href="@controllers.routes.OpportunityController.showOpportunity(app.opportunityId, None)">View opportunity</a>
    </div>
    <div>
        <table>
            <thead>
                <tr>
                    <th>Event details</th>
                    <th>Status</th>
                </tr>
            </thead>
            <tbody>
            @app.sections.sortBy(_.sectionNumber).map { s =>
                <tr>
                    <td>
                        @s.sectionNumber. <a href="@controllers.routes.ApplicationController.showSectionForm(overview.id, s.sectionNumber)"> @s.title</a>
                    </td>
                    <td>@overview.sections.find(_.sectionNumber == s.sectionNumber).map(os => os.status).getOrElse("Not started")</td>
                </tr>
            }
            </tbody>
        </table>
        <a href="@controllers.routes.OpportunityController.wip(controllers.routes.ApplicationController.show(overview.id).url)" class="button"> Submit application to RIFS</a>
        <a href="@controllers.routes.OpportunityController.wip(controllers.routes.ApplicationController.show(overview.id).url)">Preview application</a>
    </div>
}