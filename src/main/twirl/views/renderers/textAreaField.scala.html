@(field: forms.TextAreaField)
    @import play.api.libs.json.JsString

@field.question.map { q => <p class="question">@q.text</p>
                           <p>@q.longDescription</p>
                           <details>
                               <summary role="button"><span class="summary">Help with this section</span></summary>
                               <div class="panel panel-border-narrow">@for(line <- q.helpText.getOrElse("").split("\n")) {<p>@line</p>}</div>
                           </details>
                           }

<div class='form-group @{if (field.errs.size > 0) "error"}'>
    @field.errs.map { es =>
        @es.toList.map { e =>
        <span class="error-message">@e</span>
        }
    }

    <label for="@field.name">@field.label</label>
    <textarea id="@field.name" class="form-control" title="@field.name" name="@field.name">@field.value</textarea>
    <div class="inline right-align" id="title_help_text">@field.rules.flatMap(_.helpText(JsString(field.value.getOrElse(""))))</div>
</div>
